name: Python Tests

# Der Workflow wird ausgelöst, wenn Code in das Repository gepusht oder ein Pull Request erstellt wird
on:
  push:
    #branches:
    #  - main  # Führe Tests aus, wenn auf den Branch "main" gepusht wird
  pull_request:
    #branches:
    #  - main  # Führe Tests bei Pull Requests zum "main"-Branch aus

jobs:
  test:
    runs-on: ubuntu-latest  # Der Workflow wird auf einem Ubuntu-Linux-Server ausgeführt

    steps:
    - name: Check out repository
      uses: actions/checkout@v3  # Checkt den Code aus dem Repository aus

    - name: Set up Python
      uses: actions/setup-python@v4  # Setzt die Python-Umgebung auf
      with:
        python-version: '3.9'  # Definiere die Python-Version (anpassbar je nach deinem Projekt)

    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install -r requirements.txt  # Installiere die Abhängigkeiten (aus requirements.txt)
        pip install pytest  # Installiere pytest, falls es nicht in requirements.txt ist

    - name: Run tests
      run: |
        pytest  # Führt die Tests aus, standardmäßig im Ordner "tests/"
